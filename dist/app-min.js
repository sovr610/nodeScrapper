const puppeteer=require("puppeteer"),express=require("express"),cherrio=require("cherrio");var compression=require("compression");const pino_express=require("express-pino-logger"),port=3e3,app=express();app.use(compression());const loggerPinoExpress=pino_express({prettyPrint:{colorize:!0}});async function main(e,r){const o=await puppeteer.launch({headless:!1}),p=await o.newPage();await p.goto(e);const s=await p.content(),t=cherrio.load(s);return t(r).each((e,r)=>console.log(t(r).text())),"data"}app.use(loggerPinoExpress),app.get("/getDataFromWebsite",async(e,r,o)=>{try{main()}catch(o){e.log.error(o),r.json({error:!0})}}),app.listen(3e3,()=>console.log("Example app listening on port 3000!")),module.exports=app;